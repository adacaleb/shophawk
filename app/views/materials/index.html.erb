<div class="container">
  <div class="card text-bg-dark">
    <div id="departments" class="text-white">
      
      <div data-controller="material">
        <%= form_with(model: @material) do |form| %>
          <div class="row">
            <div class="col">
              <h4>Select Material and Size</h4>
            </div>
            <div class="col text-right">
              <%= link_to "Current Quotes", "/materials/currentQuotes", class: "btn btn-outline-info" %>
            </div>
          </div>
          <div class="row">
            <div class="col">
              <%= form.label :Material, style: "display: block" %>
              <%= form.select :mat, @matNames, {prompt: "Select material"}, {class: 'form-select', data: { material_target: "material", action: "change->material#matchange"} } %>
            </div>
            <div class="col">
              <%= form.label :Size, style: "display: block" %>
              <%= form.select :size, @matSizes, {prompt: "Select Size"}, {class: 'form-select', data: { material_target: "sizeSelect", action: "change->material#sizechange"} } %>
            </div>
          </div>

          </br>
          <%= form.fields_for :matquotes do |matquote| %>
          <div class="container text-center">
            <div class="row align-items-center">
              <div class="col-2">
                <%= matquote.text_field :vendor, placeholder: "Vendor", class: "form-control" %>
              </div>
              <div class="col-1">
              <%= matquote.text_field :price, placeholder: "Price", class: "form-control" %>
              </div>
              <div class="col-1">
                <%= matquote.label "Ordered" %>
                <%= matquote.check_box :ordered, class: "form-check-input"%>
              </div>
              <div class="col-1" >
                <%= matquote.label "Sawcut" %>
                <%= matquote.check_box :sawcut, class: "form-check-input" %>
              </div>
              <div class="col-2">
                <%= matquote.text_field :additionalCost, placeholder: "Additional Cost", class: "form-control" %>
              </div>
              <div class="col-3">
                <%= matquote.text_field :comment, placeholder: "Comment", class: "form-control" %>
              </div>
              <div class="col-1">
                <%= form.submit "Save pricing", class: "btn btn-primary"  %>
              </div>
                <%= matquote.hidden_field :archived, class: "form-control" %>
            </div>
          </div>
          <% end %>          
        <% end %>
      </div>

      </br>


      <div id="matdata"> <!-- Main turbo-stream div for displaying purchase history. Populates upon size selection -->

      </div>

    </br></br></br>
    <%= form_for(@material) do |form| %>

      <div>
        <%= form.label :Material, style: "display: block" %>
        <%= form.text_field :mat %>
      </div>

      <div>
        <%= form.label :Size, style: "display: block" %>
        <%= form.text_field :size %>
      </div>

      <div>
        <%= form.submit %>
      </div>
    <% end %>
  </div>

  </br>

  </div>
</div>
<!-- 
    <% @materials.each do |material| %>
      <%= render material %>
    <% end %>
  </div>
-->

